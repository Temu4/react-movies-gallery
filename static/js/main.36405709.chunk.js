(this["webpackJsonpmy-movies-gallery"]=this["webpackJsonpmy-movies-gallery"]||[]).push([[0],{28:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(20),c=a.n(o),l=(a(33),a(26)),r=a(7),s=a(8),m=a(14),v=a(15),u=a(46),h=function(e){var t=e.updateSortBy,a=function(e){return function(){t(e)}};return i.a.createElement(u.a,{variant:"pills",defaultActiveKey:"link-1"},i.a.createElement(u.a.Item,null,i.a.createElement(u.a.Link,{eventKey:"link-1",onClick:a("popularity.desc")},"Popular")),i.a.createElement(u.a.Item,null,i.a.createElement(u.a.Link,{eventKey:"link-2",onClick:a("vote_count.desc")},"Most voted")),i.a.createElement(u.a.Item,null,i.a.createElement(u.a.Link,{eventKey:"link-3",onClick:a("release_date.desc")},"Recent")))},p=a(45),d=a(40),f=a(41),W=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={showDescription:!1,willWatch:!1},e.toogleDescription=function(){e.setState({showDescription:!e.state.showDescription})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=a.title,o=a.overview,c=a.id,l=a.vote_average,r=a.poster_path,s=a.backdrop_path,m=t.removeMovie,v=t.addMoviesToWillWatch,u=t.removeMoviesFromWillWatch,h=t.movie;return i.a.createElement(p.a,{style:{width:"100%",marginBottom:"20px"}},i.a.createElement(p.a.Img,{variant:"top",className:"movie__img",src:r||s?"https://image.tmdb.org/t/p/w300/".concat(r||s):"/img/film-poster-placeholder.png",alt:n}),i.a.createElement(p.a.Body,null,i.a.createElement(p.a.Title,null,n,i.a.createElement(d.a,{pill:!0,variant:"warning",className:"ml-1"},l)),i.a.createElement(p.a.Text,null,this.state.showDescription?o||"No description":null),i.a.createElement(f.a,{variant:"dark",size:"sm",className:"mr-1 mb-1",onClick:this.toogleDescription}," ",this.state.showDescription?"Hide description":"Show description"),this.state.willWatch?i.a.createElement(f.a,{variant:"light",size:"sm",className:"mr-1 mb-1",onClick:function(){e.setState({willWatch:!1}),u(c)}},"Won't watch"):i.a.createElement(f.a,{variant:"success",size:"sm",className:"mr-1 mb-1",onClick:function(){e.setState({willWatch:!0}),v(h)}},"Will watch"),i.a.createElement(f.a,{variant:"outline-danger",size:"sm",className:"mb-1",onClick:m.bind(null,c)},"Delete")))}}]),a}(n.Component),g=a(48),y=function(e){for(var t=e.activePage,a=e.updatePage,n=function(e){return function(){a(e)}},o=t,c=[],l=1;l<=5;l++)c.push(i.a.createElement(g.a.Item,{key:l,active:l===o,onClick:n(l)},l));return i.a.createElement(g.a,{className:"mx-auto"},c)},E="https://api.themoviedb.org/3",k="23506cba8a6228cba81e4c4c021d4ecd",w=a(42),b=a(43),M=a(44),S=a(47),_=(a(36),a(37),function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={movies:[],moviesWillWatch:[],sortBy:"popularity.desc",activePage:1},e.getMoviesData=function(){fetch("".concat(E,"/discover/movie?api_key=").concat(k,"&sort_by=").concat(e.state.sortBy,"&page=").concat(e.state.activePage)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results})}))},e.updateSortBy=function(t){e.setState({sortBy:t})},e.updatePage=function(t){e.setState({activePage:t})},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t})),n=e.state.moviesWillWatch.filter((function(e){return e.id!==t}));e.setState({movies:a,moviesWillWatch:n})},e.addMoviesToWillWatch=function(t){var a=[].concat(Object(l.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMoviesFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t}));e.setState({moviesWillWatch:a})},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.getMoviesData()}},{key:"componentDidUpdate",value:function(e,t){t.sortBy===this.state.sortBy&&t.activePage===this.state.activePage||this.getMoviesData()}},{key:"render",value:function(){var e=this;return i.a.createElement(w.a,null,i.a.createElement(b.a,{className:"border-top-0 border-primary my-3"},i.a.createElement(h,{updateSortBy:this.updateSortBy})),i.a.createElement(b.a,null,i.a.createElement(M.a,{sm:"9"},i.a.createElement(b.a,null,this.state.movies.map((function(t){return i.a.createElement(M.a,{lg:"4",sm:"6",key:t.id},i.a.createElement(W,{movie:t,removeMovie:e.removeMovie,addMoviesToWillWatch:e.addMoviesToWillWatch,removeMoviesFromWillWatch:e.removeMoviesFromWillWatch}))})))),i.a.createElement(M.a,{sm:"3"},i.a.createElement("div",{className:"favorites"},i.a.createElement("h4",{className:"favorites__label"},"Will watch movies: ",this.state.moviesWillWatch.length),i.a.createElement(S.a,{variant:"flush",className:"favorites__list"},this.state.moviesWillWatch.map((function(e){return i.a.createElement(S.a.Item,{key:e.id},e.title,i.a.createElement(d.a,{pill:!0,variant:"success",className:"ml-2"},e.vote_average))})))))),i.a.createElement(b.a,null,i.a.createElement(y,{activePage:this.state.activePage,updatePage:this.updatePage})))}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.36405709.chunk.js.map